<script>
  // Initial state
  const userState = {
    name: 'guest',
    email: '',
    connected: false,
  };

  // Actual reducer
  const userReducer = (state = userState, action) => {
    switch (action.type) {

      case 'CONNECT_USER':
        let payload = { connected: true, name: action.name, email: action.email }
        return Object.assign({}, state, payload)

      case 'DISCONNECT_USER':
        return Object.assign({}, state, { connected: false, name: 'guest', email: ''})
        
      case 'UPDATE_USER_NAME':
        return Object.assign({}, state, { name: action.name })
        
      default:
        return state;
    }
  }
</script>